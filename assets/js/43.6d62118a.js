(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{407:function(t,e,s){"use strict";s.r(e);var a=s(26),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"需求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#需求"}},[t._v("#")]),t._v(" 需求")]),t._v(" "),s("p",[t._v("需求如题，想在 git 中忽略某个文件的跟踪，不记录修改。")]),t._v(" "),s("blockquote",[s("p",[t._v("ps: 如果文件已经被纳入 git 跟踪，想去除本地跟踪，但不影响线上，可参考 "),s("a",{attrs:{href:"#%E4%BD%BF%E7%94%A8-git-update-index-%E5%91%BD%E4%BB%A4"}},[t._v("使用 "),s("code",[t._v("git update-index")]),t._v(" 命令")]),t._v("。")])]),t._v(" "),s("h2",{attrs:{id:"实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[t._v("#")]),t._v(" 实现")]),t._v(" "),s("h3",{attrs:{id:"配置-gitignore-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-gitignore-文件"}},[t._v("#")]),t._v(" 配置 "),s("code",[t._v(".gitignore")]),t._v(" 文件")]),t._v(" "),s("p",[t._v("基础方法，可自由配置想要忽略的文件。")]),t._v(" "),s("p",[t._v("使用方法：只需要在根目录创建一个 "),s("code",[t._v(".gitignore")]),t._v(" 文件就可以")]),t._v(" "),s("div",{staticClass:"language-ignore extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ignore"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 忽略可以键入 文件名/文件夹名/文件类型 等")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 符合条件都可以被忽略")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 忽略所有 .txt 文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token entry string"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(".txt")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 忽略 1.jpg 文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token entry string"}},[t._v("1.jpg")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 忽略 node_modules 文件夹及下所有文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token entry string"}},[t._v("node_modules")]),t._v("\n")])])]),s("p",[t._v("但注意！"),s("strong",[t._v("如果想要忽略的文件已经被纳入 git 跟踪了，那么后写入的忽略就不生效了。")])]),t._v(" "),s("p",[t._v("这时候如果还想要忽略，并且以后不再修改(类 env 文件)。")]),t._v(" "),s("p",[t._v("可以参考 "),s("RouterLink",{attrs:{to:"/git/inoperative-gitignore.html"}},[t._v("解决 .gitignore 不生效问题")]),t._v("，文章中提供了解决方法。")],1),t._v(" "),s("blockquote",[s("p",[t._v("注意，修改 "),s("code",[t._v(".gitignore")]),t._v("，会影响所有仓库使用者。")])]),t._v(" "),s("h3",{attrs:{id:"使用-git-update-index-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-git-update-index-命令"}},[t._v("#")]),t._v(" 使用 "),s("code",[t._v("git update-index")]),t._v(" 命令")]),t._v(" "),s("p",[t._v("如果文件已被跟踪，但是本地要修改，不要提交到远程，可以使用")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" update-index --assume-unchanged FILE  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# FILE 替换为要取消的文件路径")]),t._v("\n")])])]),s("p",[t._v("执行过后，此文件在本地的所有跟踪将不被记录。如果想要重新记录，需要运行")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" update-index --no-assume-unchanged FILE\n")])])]),s("blockquote",[s("p",[t._v("此操作只会影响本地账户，不会对远程有任何影响")])]),t._v(" "),s("h3",{attrs:{id:"配置-git-info-exclude-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-git-info-exclude-文件"}},[t._v("#")]),t._v(" 配置 "),s("code",[t._v(".git/info/exclude")]),t._v(" 文件")]),t._v(" "),s("p",[t._v("如果只是想取消跟踪一个只在本机本地的文件，但是又不想在 "),s("code",[t._v(".gitignore")]),t._v(" 中留痕。")]),t._v(" "),s("p",[t._v("可以修改 "),s("code",[t._v(".git/info/exclude")]),t._v(" 文件，此文件只会在本机生效。")]),t._v(" "),s("p",[t._v("这个文件和 "),s("code",[t._v(".gitignore")]),t._v(" 是相等的，能实现的同样可以实现，不能实现的也不能实现。")]),t._v(" "),s("p",[t._v("区别只在于不上传到远程。")]),t._v(" "),s("blockquote",[s("p",[t._v("此操作同样不会影响到远程。")])])])}),[],!1,null,null,null);e.default=n.exports}}]);