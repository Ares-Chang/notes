(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{386:function(a,s,e){"use strict";e.r(s);var t=e(26),n=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"关于"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关于"}},[a._v("#")]),a._v(" 关于")]),a._v(" "),e("p",[a._v("由于 "),e("code",[a._v("Vue 3")]),a._v(" 把包管理器从 "),e("code",[a._v("yarn")]),a._v(" 切换到了 "),e("a",{attrs:{href:"https://pnpm.io/zh/",target:"_blank",rel:"noopener noreferrer"}},[e("code",[a._v("pnpm")]),e("OutboundLink")],1),a._v("，"),e("code",[a._v("pnpm")]),a._v(" 进入了我的认知。")]),a._v(" "),e("p",[a._v("但是由于我的项目对包管理器的性能需求并没有那么强烈，而 "),e("code",[a._v("pnpm")]),a._v(" 对我又没有从 "),e("code",[a._v("npm")]),a._v(" 到 "),e("code",[a._v("yarn")]),a._v(" 时那么强烈的吸引力。")]),a._v(" "),e("p",[a._v("虽然日常使用过一两次，但我并没有强烈更换的想法。")]),a._v(" "),e("p",[a._v("这时看到了"),e("a",{attrs:{href:"https://github.com/vuejs/core/blob/main/.github/contributing.md#development-setup",target:"_blank",rel:"noopener noreferrer"}},[a._v("贡献文档"),e("OutboundLink")],1),a._v("中提到了一个叫做 "),e("a",{attrs:{href:"https://github.com/antfu/ni",target:"_blank",rel:"noopener noreferrer"}},[e("code",[a._v("ni")]),e("OutboundLink")],1),a._v(" 的工具")]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("We also recommend installing ni to help switching between repos using different package managers. ni also provides the handy nr command which running npm scripts easier.")])]),a._v(" "),e("p",[e("code",[a._v("ni")]),a._v(" 是由 Vue core team 成员 "),e("a",{attrs:{href:"https://github.com/antfu",target:"_blank",rel:"noopener noreferrer"}},[a._v("antfu"),e("OutboundLink")],1),a._v(" 小哥开发，"),e("a",{attrs:{href:"https://github.com/antfu/ni",target:"_blank",rel:"noopener noreferrer"}},[a._v("这是仓库链接"),e("OutboundLink")],1)]),a._v(" "),e("p",[e("code",[a._v("ni")]),a._v(" 的出现抹平了各个包管理器的语法差异，可以统一使用一种语法进行安装、卸载、更新等操作。")]),a._v(" "),e("h2",{attrs:{id:"how"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how"}},[a._v("#")]),a._v(" "),e("a",{attrs:{href:"https://github.com/antfu/ni#how",target:"_blank",rel:"noopener noreferrer"}},[a._v("How?"),e("OutboundLink")],1)]),a._v(" "),e("p",[e("code",[a._v("ni")]),a._v(" 假设您使用的是锁文件(并且您应该这样做)")]),a._v(" "),e("p",[a._v("在运行之前，它会检测您的 "),e("code",[a._v("yarn.lock")]),a._v(" / "),e("code",[a._v("pnpm-lock.yaml")]),a._v(" / "),e("code",[a._v("package-lock.json")]),a._v(" 以了解当前的包管理器，并运行相应的命令。")]),a._v(" "),e("h2",{attrs:{id:"使用方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[a._v("#")]),a._v(" 使用方法")]),a._v(" "),e("h3",{attrs:{id:"全局安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#全局安装"}},[a._v("#")]),a._v(" 全局安装")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" i -g @antfu/ni\n")])])]),e("h3",{attrs:{id:"ni-install"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ni-install"}},[a._v("#")]),a._v(" "),e("code",[a._v("ni")]),a._v(" - install")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ni\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm install")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn install")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm install")]),a._v("\n")])])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ni axios\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm i axios")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn add axios")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm add axios")]),a._v("\n")])])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ni @types/node -D\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm i @types/node -D")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn add @types/node -D")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm add -D @types/node")]),a._v("\n")])])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ni -g iroiro\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm i -g iroiro")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn global add iroiro")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm add -g iroiro")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 这将使用默认代理，而不考虑当前工作目录")]),a._v("\n")])])]),e("h3",{attrs:{id:"nr-run"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nr-run"}},[a._v("#")]),a._v(" "),e("code",[a._v("nr")]),a._v(" - run")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("nr dev --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3000")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm run dev -- --port=3000")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn run dev --port=3000")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm run dev -- --port=3000")]),a._v("\n")])])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("nr\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 交互式地选择要运行的脚本，罗列出所有可执行命令")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# supports https://www.npmjs.com/package/npm-scripts-info convention")]),a._v("\n")])])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("nr -\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重新运行最后一个命令")]),a._v("\n")])])]),e("h3",{attrs:{id:"nx-execute"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nx-execute"}},[a._v("#")]),a._v(" "),e("code",[a._v("nx")]),a._v(" - execute")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("nx jest\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npx jest")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn dlx jest")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm dlx jest")]),a._v("\n")])])]),e("h3",{attrs:{id:"nu-upgrade"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nu-upgrade"}},[a._v("#")]),a._v(" nu - upgrade")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("nu\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm upgrade")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn upgrade")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm update")]),a._v("\n")])])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("nu -i\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# (not available for npm)")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn upgrade-interactive")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm update -i")]),a._v("\n")])])]),e("h3",{attrs:{id:"nun-uninstall"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nun-uninstall"}},[a._v("#")]),a._v(" "),e("code",[a._v("nun")]),a._v(" - uninstall")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("nun axios\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm uninstall axios")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn remove axios")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm remove axios")]),a._v("\n")])])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("nun @types/node -D\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm uninstall @types/node -D")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn remove @types/node -D")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm remove -D @types/node")]),a._v("\n")])])]),e("h3",{attrs:{id:"nci-clean-install"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nci-clean-install"}},[a._v("#")]),a._v(" "),e("code",[a._v("nci")]),a._v(" - clean install")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("nci\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm ci")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn install --frozen-lockfile")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm install --frozen-lockfile")]),a._v("\n")])])]),e("p",[a._v("如果不存在相应的节点管理器，此命令将在整个过程中全局安装它。")]),a._v(" "),e("h3",{attrs:{id:"na-agent-alias"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#na-agent-alias"}},[a._v("#")]),a._v(" "),e("code",[a._v("na")]),a._v(" - agent alias")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("na\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm")]),a._v("\n")])])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("na run foo\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# npm run foo")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# yarn run foo")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# pnpm run foo")]),a._v("\n")])])]),e("h3",{attrs:{id:"change-directory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#change-directory"}},[a._v("#")]),a._v(" Change Directory")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ni -C packages/foo vite\nnr -C playground dev\n")])])]),e("h3",{attrs:{id:"config"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#config"}},[a._v("#")]),a._v(" Config")]),a._v(" "),e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; ~/.nirc")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; fallback when no lock found")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("defaultAgent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('npm # default "prompt"')]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; for global installs")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("globalAgent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("npm")]),a._v("\n")])])]),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ~/.bashrc")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 自定义配置文件路径")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NI_CONFIG_FILE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v('/.config/ni/nirc"')]),a._v("\n")])])]),e("h2",{attrs:{id:"故障排除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#故障排除"}},[a._v("#")]),a._v(" 故障排除")]),a._v(" "),e("p",[e("code",[a._v("ni")]),a._v(" 包与 Windows PowerShell 有冲突")]),a._v(" "),e("p",[a._v("PowerShell 有一个内置的新项目别名"),e("code",[a._v("ni")]),a._v("。要删除此包的别名：")]),a._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[a._v("PowerShell 5.x")]),a._v(" "),e("p",[a._v("创建或编辑文件 C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\Microsoft.PowerShell_profile.ps1, 添加以下行:")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("Del alias:ni -Force\n")])])])]),a._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[a._v("PowerShell 7.x")]),a._v(" "),e("p",[a._v("创建或编辑文件 C:\\Program Files\\PowerShell\\7\\Microsoft.PowerShell_profile.ps1, 添加以下行:")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("Remove-Alias -Name ni -Force\n")])])])]),a._v(" "),e("p",[a._v("以上内容皆摘录自 "),e("a",{attrs:{href:"https://github.com/antfu/ni#ni",target:"_blank",rel:"noopener noreferrer"}},[e("code",[a._v("ni")]),a._v(" 仓库文档"),e("OutboundLink")],1),a._v("，所见即所得写法，很小清新。")])])}),[],!1,null,null,null);s.default=n.exports}}]);